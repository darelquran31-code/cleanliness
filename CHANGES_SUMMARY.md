# ๐ ููุฎุต ุงูุชุนุฏููุงุช - ุชูุญูุฏ ุชูุฒูุน ููุงุฏ ุงููุธุงูุฉ

## ๐ฏ ุงููุฏู
ุชุนุฏูู ุจููุฉ ุงููุธุงู ูููุญุฏ ูููุงุช ููุงุฏ ุงููุธุงูุฉ ูุฌููุน ุงููุณุงุฌุฏ ุงูู 1700

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. ๐ Backend Files

#### `/backend/routes/admin.js`
**ุงูุชุนุฏููุงุช:**
- โ๏ธ ุชุญุฏูุซ `POST /add-material`
  - ุฅุถุงูุฉ ูุนุงูู `quantity`
  - ุชุญุฏูุซ ุงูู range ูู `Materials!A:B` ุฅูู `Materials!A:C`
  
- โ๏ธ ุชุญุฏูุซ `GET /materials`
  - ูุฑุงุกุฉ ูู `Materials!A:C` ุจุฏูุงู ูู `Materials!A:B`
  - ุฅุฑุฌุงุน ุงููููุงุช ูู ุงูุงุณุชุฌุงุจุฉ
  
- โ๏ธ ุชุจุณูุท `GET /allocations/:mosque`
  - ูุง ูุฃุฎุฐ ุจูุงูุงุช ูู ุฌุฏูู ูููุตู
  - ูุนูุฏ ุฌููุน ุงูููุงุฏ ูู ุฌุฏูู Materials ูุน ุงููููุงุช ุงูููุญุฏุฉ
  
- โ ุญุฐู `POST /add-allocation`
  - ูู ูุนุฏ ูุญุชุงุฌู

---

### 2. ๐จ Frontend Files

#### `/frontend/src/services/api.js`
**ุงูุชุนุฏููุงุช:**
- โ๏ธ ุชุญุฏูุซ `addMaterial(name, unit, quantity)`
  - ุฅุถุงูุฉ ูุนุงูู `quantity` ุงูุซุงูุซ
  
- โ ุญุฐู `addAllocation(mosque, materialId, quantity)`
  - ูู ูุนุฏ ูุญุชุงุฌู

---

#### `/frontend/src/components/MaterialManagement.jsx`
**ุงูุชุนุฏููุงุช:**
- โ๏ธ ุชุญุฏูุซ State
  - ุฅุถุงูุฉ `quantity: ''` ูู `formData`
  
- โ๏ธ ุชุญุฏูุซ ุงูููุฑู
  - ุฅุถุงูุฉ Input ุฌุฏูุฏ ูููููุฉ
  - ุงูุฎุตุงุฆุต: `type="number"`, `min="0"`, `step="0.1"`
  
- โ๏ธ ุชุญุฏูุซ ุฌุฏูู ุงูุนุฑุถ
  - ุฅุถุงูุฉ ุนููุฏ ุฌุฏูุฏ: "ุงููููุฉ ููู ูุณุฌุฏ"
  - ุนุฑุถ `material.quantity`
  
- โ๏ธ ุชุญุฏูุซ API Call
  - ุชูุฑูุฑ `formData.quantity` ุฅูู `api.addMaterial()`

---

#### `/frontend/src/components/ReceiptForm.jsx`
**ุงูุชุนุฏููุงุช:**
- โ๏ธ ุชุญุฏูุซ `loadData()` 
  - ุญุฐู ุงุณุชุฏุนุงุก `api.getMaterials()`
  - ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูููุญุฏุฉ ูู `getAllocations()` ูุจุงุดุฑุฉ
  - ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุชุญุชูู ุนูู: `id, name, unit, quantity`
  
- โ๏ธ ุชุญุฏูุซ ุฌุฏูู ุงูููุงุฏ
  - ุงุณุชุฎุฏุงู `allocations` ุจุฏูุงู ูู `materials` + ุงูุจุญุซ
  - ุนุฑุถ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ูู `allocation.name`, `allocation.unit`, `allocation.quantity`
  
- โ๏ธ ุญุฐู `materialsList` ูู State
  - ูู ูุนุฏ ูุญุชุงุฌู

---

#### `/frontend/src/pages/AdminDashboard.jsx`
**ุงูุชุนุฏููุงุช:**
- โ ุญุฐู import `AllocationManagement`
- โ ุญุฐู Tab "ุชุฎุตูุต ุงููููุงุช"
- โ ุญุฐู ุงูุดุฑุท ุงูุดุฑุทู ูู AllocationManagement
- โ๏ธ ุงูุขู ูุนุฑุถ ููุท: ุงููุณุชุฎุฏููู ูููุงุฏ ุงููุธุงูุฉ

---

#### `/frontend/src/components/AllocationManagement.jsx`
**ุงูุญุงูุฉ:**
- โ ุชู ุญุฐู ุงูููู ุจุงููุงูู

---

## ๐๏ธ Google Sheets Structure

### ุฌุฏูู Materials (ุงููููู ุงูุฌุฏูุฏ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ A: Name  โ B: Unit  โ C: Qty  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุตุงุจูู..  โ ูุชุฑ      โ 30      โ
โ ููุงุฏ ..   โ ูุชุฑ      โ 20      โ
โ ...      โ ...      โ ...     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุฌุฏูู Allocations
- โ **ูุญุฐูู ุชูุงูุงู** - ูู ูุนุฏ ูุญุชุงุฌู

---

## ๐ ุนูููุฉ ุงูุชุฏูู

### ูุจู ุงูุชุนุฏููุงุช:
```
Admin โ add-material (name, unit) โ Materials
Admin โ add-allocation (mosque, material, qty) โ Allocations
User โ get-allocations โ Allocations (ูุฎุชูู ุญุณุจ ุงููุณุฌุฏ)
```

### ุจุนุฏ ุงูุชุนุฏููุงุช:
```
Admin โ add-material (name, unit, quantity) โ Materials
User โ get-allocations โ Materials (ููุญุฏ ูุฌููุน ุงููุณุงุฌุฏ)
```

---

## โ ุงุฎุชุจุงุฑ ุงูุชุนุฏููุงุช

### 1๏ธโฃ ุฅุถุงูุฉ ูุงุฏุฉ ุฌุฏูุฏุฉ
```bash
POST /admin/add-material
{
  "name": "ุตุงุจูู ุงุฑุถูุฉ ุณุงุฆู",
  "unit": "ูุชุฑ",
  "quantity": 30
}
```
โ ุงููุชูุฌุฉ: ุงููุงุฏุฉ ูุญููุธุฉ ูุน ุงููููุฉ

### 2๏ธโฃ ุนุฑุถ ุงูููุงุฏ
```bash
GET /admin/materials
```
โ ุงููุชูุฌุฉ: ุฌููุน ุงูููุงุฏ ูุน ุงููููุงุช

### 3๏ธโฃ ูุงุชูุฑุฉ ุงุณุชูุงู
```
1. ุงููุณุชุฎุฏู ููุชุญ ูุงุชูุฑุฉ ุงุณุชูุงู
2. ูุฑู ุฌููุน ุงูููุงุฏ ูู ุฌุฏูู Materials
3. ุงููููุงุช ุงููุฎุตุตุฉ = ุงููููุงุช ูู Materials
```
โ ุงููุชูุฌุฉ: ุชุญุฏูุซุงุช ุชููุงุฆูุฉ

---

## ๐ ุงูููุงุฆุฏ ุงูุฅุถุงููุฉ

โ **ุชูุญูุฏ ุงููููุงุช**
- ุฌููุน ุงููุณุงุฌุฏ ุชุญุตู ุนูู ููุณ ุงููููุงุช

โ **ุชุจุณูุท ุงููุงุฌูุฉ**
- Admin ูุง ูุญุชุงุฌ ุฅูู Tab ูููุตู ููุชุฎุตูุตุงุช

โ **ุฃุฏุงุก ุฃูุถู**
- ุนุฏุฏ ุงูุงุณุชุนูุงูุงุช ุฃูู
- ุญุฌู ุงูุจูุงูุงุช ุฃูู

โ **ุตูุงูุฉ ุฃุณูู**
- ุชุนุฏูู ุงููููุฉ ูู ููุงู ูุงุญุฏ ูุฌููุน ุงููุณุงุฌุฏ
- ุฃูู ุงุญุชูุงููุฉ ููุฃุฎุทุงุก

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ูุจู ุงูุชุดุบูู
1. โ ุชุฃูุฏ ูู ุญุฐู ุฌุฏูู `Allocations` ูู Google Sheets
2. โ ุชุฃูุฏ ูู ุฃู ุฌุฏูู `Materials` ูุญุชูู ุนูู 3 ุฃุนูุฏุฉ ููุท
3. โ ุงูุณุฎ ุงูุจูุงูุงุช ุงููุฏููุฉ ูู backup ูุจู ุงูุญุฐู

### ุฅุฐุง ุฃุฑุฏุช ุงูุฑุฌูุน ูููุธุงู ุงููุฏูู
- ุณุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุฅูุดุงุก ุฌุฏูู `Allocations`
- ูุชุญุฏูุซ ุฌููุน ุงูู endpoints

### ุฅุฐุง ุฃุฑุฏุช ูููุงุช ูุฎุชููุฉ ูุงุญูุงู
- ุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุฌุฏูู `AlternativeAllocations`
- ูุฅุถุงูุฉ logic ููุงุฎุชูุงุฑ ุจูู ุงูููุญุฏ ูุงููุฎุชูู

---

## ๐ ูููุงุช ูุฑุฌุนูุฉ

ุงุทูุน ุนูู:
1. `DATABASE_RESTRUCTURE_NOTES.md` - ุดุฑุญ ููุตู ููุจููุฉ ุงูุฌุฏูุฏุฉ
2. `QUICKSTART.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
3. `PROJECT_SUMMARY.md` - ููุฎุต ุงููุดุฑูุน

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ ุงุฎุชุจุฑ ุฅุถุงูุฉ ูุงุฏุฉ ุฌุฏูุฏุฉ
2. โ ุชุญูู ูู ุธููุฑ ุงููููุฉ ูู ุงููุงุฆูุฉ
3. โ ุงุฎุชุจุฑ ูุงุชูุฑุฉ ุงุณุชูุงู
4. โ ุชุฃูุฏ ูู ุธููุฑ ุฌููุน ุงูููุงุฏ ุจุงููููุงุช ุงูุตุญูุญุฉ
5. โ ุงุฎุชุจุฑ ูุน ูุณุชุฎุฏููู ูุฎุชูููู (ุฌููุน ุงููุณุงุฌุฏ)

---

## ๐ก ููุฎุต ุจู 30 ุซุงููุฉ

```
ุงูุณุงุจู:  Admin ูุฎุตุต ูููุงุช ูุฎุชููุฉ ููู ูุณุฌุฏ โ
ุงูุฌุฏูุฏ:  Admin ูุถูู ููุงุฏ ุจูููุงุช ููุญุฏุฉ โ
         ุฌููุน ุงููุณุงุฌุฏ ุชุฃุฎุฐ ููุณ ุงููููุงุช ุชููุงุฆูุงู โ
```

---

## ๐ ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ูุดููุฉ:
1. ุชุญูู ูู ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุงููุชุตูุญ (F12 โ Console)
2. ุชุญูู ูู ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุงูุณูุฑูุฑ
3. ุฑุงุฌุน ููู `DATABASE_RESTRUCTURE_NOTES.md`
4. ุชุฃูุฏ ูู ุตุญุฉ ุจูุงูุงุช Google Sheets